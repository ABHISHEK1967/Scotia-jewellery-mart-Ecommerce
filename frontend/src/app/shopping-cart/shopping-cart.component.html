<!-- Authored by Meshwa Savalia, B00890170, ms959884@dal.ca
 -->
 <p style="text-align:  center; padding-top: 15px;"><b>Shopping Cart</b> -> Edit Shipping Details -> Pay -> Order Complete<p><div style="width:100%" >
  
  
  <div *ngIf="dataSource.length == 0">
  <h1 style="margin:5% ;padding:1%">Cart is Empty</h1>

</div>
<div *ngIf="dataSource.length > 0" style="padding: 2%;  min-height: 500px; " class="shopping-cart-main-content">
 
  <div style="display: flex;  ">
    <div style="width: 75%; min-height: 100px" class="">
      <h1 style="background-color: white; margin:0px ;padding:1%">Item Summary</h1>
      <table style="    width: 100%;
      height: 100%; min-height: 100px" mat-table [dataSource]="dataSource" class="mat-elevation-z8">
     
         <ng-container matColumnDef="productImage">
          <th mat-header-cell *matHeaderCellDef> Image </th>
          <td mat-cell *matCellDef="let element"> <img mat-card-image class="image" src="{{element.productImage}}"> </td>
        </ng-container>
        <ng-container matColumnDef="productName">
          <th mat-header-cell *matHeaderCellDef>Name </th>
          <td mat-cell *matCellDef="let element"> {{element.productName}} <br><br><br><button class="btn" mat-button (click)="deleteCart(element.productId)" >Delete</button> </td>
        </ng-container>
          <ng-container matColumnDef="productPrice" style="width: 150px;">
            <th mat-header-cell *matHeaderCellDef> Price </th>
            <td mat-cell *matCellDef="let element"> ${{element.productPrice}} </td>
          </ng-container>
      
       
      
        <ng-container matColumnDef="productQuantity">
          <th mat-header-cell *matHeaderCellDef> Quantity </th>
          <td mat-cell *matCellDef="let element">  
            <button class="plusminus" (click)="updateCart(element.productId,element.productQuantity-1)">-</button>
            {{element.productQuantity}}
            <button class="plusminus" (click)="updateCart(element.productId,element.productQuantity+1)">+</button> 
            </td>
        </ng-container>
 
        <ng-container matColumnDef="productTotal">
          <th mat-header-cell *matHeaderCellDef> Total </th>
          <td mat-cell *matCellDef="let element"> ${{element.productQuantity * element.productPrice}} </td>
        </ng-container>
      
      
      
        <tr class="item" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr class="item" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    
    </div>
    <div style="width: 25%;padding:1%; height: 25%;    margin-left: 10px;     background-color: rgb(250, 250, 250);" class="order-details">
     <b> <h1>Order Summary</h1></b>
        <p style="margin:1%; margin-bottom:5%">PRICE DETAILS:</p>
        <table class="checkout" style="align-content: center; ">
          <th>
            <tr>
              <td style="width:4000px;">Total MRP:</td>
              <td class="value">${{sum}}</td>
            </tr>
            <tr>
              <td style="width:4000px;">Tax:</td>
              <td class="value">${{tax}}</td>
            </tr>
            <tr>
              <td style="width:4000px;">Shipping Fee:</td>
              <td class="value">${{shipping}}</td>
            </tr>
            <br>
            <tr>
              <td style="width:4000px; padding-bottom: 6px;">Total:</td>
              <td class="value">${{total}}</td>
            </tr>
        </table>
        <button mat-button class="btn" style="width: 100%" (click)="navigateToCheckoutPage()">Checkout</button>
        </div>
        
  
    
  </div>
</div>
<!-- <p style="text-align:  center;"><b>Shopping Cart</b> -> Edit Shipping Details -> Pay -> Order Complete<p><div style="width:100%" ><b> <h1>Item Summary</h1></b>
<div style="float:left; width:75%;">
<mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <ng-container matColumnDef="Item">
      <th mat-header-cell *matHeaderCellDef> Item </th>
      <td mat-cell *matCellDef="let element">  <img mat-card-image class="image" src="{{element.productImage}}"></td>
    </ng-container>

     <ng-container matColumnDef="ItemName">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let element" class="itemDesc"> {{element.productName}} <br><br><br><p> <button mat-button >Delete</button></p></td>
      </ng-container>
  
   
    <ng-container matColumnDef="Price">
      <th mat-header-cell *matHeaderCellDef> Price </th>
      <td mat-cell *matCellDef="let element"> ${{element.productPrice}} </td>
    </ng-container>
  
    <ng-container matColumnDef="Quantity">
      <th mat-header-cell *matHeaderCellDef> Quantity </th>
      <td mat-cell *matCellDef="let element"> 
        <button type="button" class="qtyBtn" (click)="updateCart()"><i class="fa fa-minus"></i></button>
        {{element.productQuantity}}
        <button type="button" class="qtyBtn"><i class="fa fa-plus"></i></button> </td>
    </ng-container>"
  
 
    <ng-container matColumnDef="Total">
      <th mat-header-cell *matHeaderCellDef> Total </th>
      <td mat-cell *matCellDef="let element"> ${{element.productPrice * element.productQuantity}} </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</mat-table>
  </div>
  <div class="checkout"  style="float:right; width:25%; border: 1px;">
    <b> <h1>Order Summary</h1></b>
      <p>PRICE DETAILS:</p>
      <table>
        <th>
          <tr>
            <td>Total MRP:</td>
            <td class="value">450</td>
          </tr>
          <tr>
            <td>Tax:</td>
            <td class="value">450</td>
          </tr>
          <tr>
            <td>Shipping Fee:</td>
            <td class="value">450</td>
          </tr>
          <br>
          <tr>
            <td>Total:</td>
            <td class="value">300</td>
          </tr>
      </table>
      <button mat-button class="btn" >checkout</button>
      
      

  </div>
</div> -->